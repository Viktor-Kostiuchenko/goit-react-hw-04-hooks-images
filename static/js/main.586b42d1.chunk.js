(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={searchForm:"SearchForm_searchForm__21HYI",input:"SearchForm_input__2rtLG",button:"SearchForm_button__20Gbj",label:"SearchForm_label__1TI8q",searchIcon:"SearchForm_searchIcon__2BTNO"}},16:function(e,t,a){e.exports={overlay:"Modal_overlay__1diO_",modal:"Modal_modal__gG3BE",buttonClose:"Modal_buttonClose__3pKsp",iconClose:"Modal_iconClose__3Kjw7"}},17:function(e,t,a){e.exports={gallery:"ImageDataView_gallery__3Jpd2",galleryItem:"ImageDataView_galleryItem__OJAFV"}},27:function(e,t,a){e.exports={image:"ImageGalleryItem_image__24eJV"}},30:function(e,t,a){e.exports={loader:"ImagePending_loader__3Kr-Z"}},32:function(e,t,a){e.exports={enterData:"ImageGallery_enterData__sfdru"}},35:function(e,t,a){e.exports={toTop:"ScrollUp_toTop__2Ngiz"}},37:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__3yXJL"}},38:function(e,t,a){e.exports={section:"Section_section__39iA6"}},85:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),o=a(7),c=a.n(o),s=a(6),i=a(5),l=a(8),u=a.n(l),b=a(18),j=a(15),m=a(3),d=a.n(m),p=a(27),h=a.n(p),g=a(2);function f(e){var t=e.smallImg,a=e.largeImg,r=e.alt,n=e.openModal;return Object(g.jsx)("img",{onClick:function(){return n(a,r)},className:h.a.image,src:t,alt:r})}d.a.propTypes={smallImg:d.a.string.isRequired,largeImg:d.a.string.isRequired,alt:d.a.string.isRequired,openModal:d.a.func.isRequired};var O=a(28);function x(e){var t=e.imagesArray,a=e.loadMore;return Object(g.jsx)(O.a,{dataLength:t.length,next:a,hasMore:!0})}var _=a(17),v=a.n(_);function y(e){var t=e.imagesArray,a=e.openModal,r=e.loadMore;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("ul",{className:v.a.gallery,children:t.map((function(e){var t=e.id,r=e.webformatURL,n=e.largeImageURL,o=e.tags;return Object(g.jsx)("li",{className:v.a.galleryItem,children:Object(g.jsx)(f,{smallImg:r,largeImg:n,alt:o,openModal:a})},t)}))}),Object(g.jsx)(x,{imagesArray:t,loadMore:r})]})}var w=a(29),I=a.n(w),S=a(30),N=a.n(S);function M(){return Object(g.jsx)(I.a,{className:N.a.loader,type:"Grid",color:"#2c5364",height:100,width:100,timeout:3e3})}var k=a(31),C=a.n(k).a.create({baseURL:"https://pixabay.com/api/",timeout:1e3,params:{key:"23833327-aee66bbf86a23c3fb1d188dcb",per_page:12,image_type:"photo",orientation:"horizontal"}});function F(e,t){return E.apply(this,arguments)}function E(){return(E=Object(j.a)(u.a.mark((function e(t,a){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C("",{params:{q:t,page:a}});case 3:return r=e.sent,n=r.data,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),i.b.error("\u041d\u0435\u0442 \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 ".concat(t));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var L=a(32),T=a.n(L),q="idle",R="pending",A="resolved",D="rejected";function G(e){var t=e.imageName,a=e.openModal,n=Object(r.useState)([]),o=Object(s.a)(n,2),c=o[0],l=o[1],m=Object(r.useState)(null),d=Object(s.a)(m,2),p=d[0],h=d[1],f=Object(r.useState)(1),O=Object(s.a)(f,2),x=O[0],_=O[1],v=Object(r.useState)(q),w=Object(s.a)(v,2),I=w[0],S=w[1];Object(r.useEffect)((function(){if(t){t!==p&&(_(1),l([]));var e=function(){var e=Object(j.a)(u.a.mark((function e(){var a,r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(R),e.next=3,F(t,x);case 3:if(a=e.sent,r=a.hits,n=a.totalHits,0!==r.length||0!==n){e.next=9;break}return i.b.error("Oops nothing found"),e.abrupt("return");case 9:if(0!==r.length||0===n){e.next=12;break}return i.b.warning("Nothing more found"),e.abrupt("return");case 12:console.log(x),console.log(t),1===x&&i.b.success("Found ".concat(n," images")),h(t),l([].concat(Object(b.a)(c),Object(b.a)(r))),S(A);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[t,p,x]);return Object(g.jsxs)(g.Fragment,{children:[I===q&&Object(g.jsx)("h2",{className:T.a.enterData,children:"Enter data to search..."}),I===R&&Object(g.jsx)(M,{}),(I===A||I===R)&&Object(g.jsx)(y,{imagesArray:c,openModal:a,loadMore:function(){_((function(e){return e+1}))}}),I===D&&i.b.error("Ooops")]})}var J=a(33),U=a(16),V=a.n(U),B=document.querySelector("#modal-root");function K(e){var t=e.onClose,a=e.modalImg;Object(r.useEffect)((function(){return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}));var n=function(e){"Escape"===e.code&&t()},c=a.src,s=a.alt;return Object(o.createPortal)(Object(g.jsxs)("div",{className:V.a.overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:[Object(g.jsx)("button",{type:"button",className:V.a.buttonClose,onClick:function(){return t()},children:Object(g.jsx)(J.a,{style:{color:"white",width:30,height:30}})}),Object(g.jsx)("div",{className:V.a.modal,children:Object(g.jsx)("img",{src:c,alt:s})})]}),B)}var z=a(34),H=a.n(z),P=(a(84),a(35)),X=a.n(P);function Y(){return Object(g.jsx)(H.a,{showUnder:160,duration:500,style:{right:60,bottom:42},children:Object(g.jsx)("div",{className:X.a.toTop})})}var Z=a(36),Q=a(10),W=a.n(Q);function $(e){var t=e.onSubmit,a=Object(r.useState)(""),n=Object(s.a)(a,2),o=n[0],c=n[1];return Object(g.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==o.trim()?(t(o),c("")):i.b.warning("Enter sth")},className:W.a.searchForm,autoComplete:"off",children:[Object(g.jsx)("input",{className:W.a.input,type:"text",autoFocus:!0,placeholder:"Search images and photos",value:o,onChange:function(e){c(e.currentTarget.value.toLowerCase())}}),Object(g.jsx)("button",{type:"submit",className:W.a.button,children:Object(g.jsx)(Z.a,{className:W.a.searchIcon})})]})}var ee=a(37),te=a.n(ee);function ae(e){var t=e.onSubmit;return Object(g.jsx)("header",{className:te.a.searchbar,children:Object(g.jsx)($,{onSubmit:t})})}var re=a(38),ne=a.n(re);function oe(e){var t=e.children;return Object(g.jsx)("section",{className:ne.a.section,children:t})}function ce(){var e=Object(r.useState)(""),t=Object(s.a)(e,2),a=t[0],n=t[1],o=Object(r.useState)(!1),c=Object(s.a)(o,2),l=c[0],u=c[1],b=Object(r.useState)({src:"",alt:""}),j=Object(s.a)(b,2),m=j[0],d=j[1],p=function(e,t){u(!l),d({src:e,alt:t})};return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(oe,{children:Object(g.jsx)(ae,{onSubmit:function(e){n(e)}})}),Object(g.jsxs)(oe,{children:[Object(g.jsx)(G,{imageName:a,openModal:p}),Object(g.jsx)(Y,{})]}),l&&Object(g.jsx)(K,{onClose:p,modalImg:m}),Object(g.jsx)(i.a,{autoClose:3e3})]})}a(85);c.a.render(Object(g.jsx)(n.a.StrictMode,{children:Object(g.jsx)(ce,{})}),document.getElementById("root"))}},[[86,1,2]]]);
//# sourceMappingURL=main.586b42d1.chunk.js.map