(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{14:function(e,t,a){e.exports={overlay:"Modal_overlay__1diO_",modal:"Modal_modal__gG3BE",buttonClose:"Modal_buttonClose__3pKsp",iconClose:"Modal_iconClose__3Kjw7"}},15:function(e,t,a){e.exports={gallery:"ImageDataView_gallery__3Jpd2",galleryItem:"ImageDataView_galleryItem__OJAFV"}},26:function(e,t,a){e.exports={image:"ImageGalleryItem_image__24eJV"}},29:function(e,t,a){e.exports={loader:"ImagePending_loader__3Kr-Z"}},32:function(e,t,a){e.exports={enterData:"ImageGallery_enterData__sfdru"}},35:function(e,t,a){e.exports={toTop:"ScrollUp_toTop__2Ngiz"}},37:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__3yXJL"}},38:function(e,t,a){e.exports={section:"Section_section__39iA6"}},85:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(7),c=a.n(o),s=a(6),i=a(5),l=a(17),u=a(3),b=a.n(u),j=a(26),m=a.n(j),d=a(2);function h(e){var t=e.smallImg,a=e.largeImg,n=e.alt,r=e.openModal;return Object(d.jsx)("img",{onClick:function(){return r(a,n)},className:m.a.image,src:t,alt:n})}b.a.propTypes={smallImg:b.a.string.isRequired,largeImg:b.a.string.isRequired,alt:b.a.string.isRequired,openModal:b.a.func.isRequired};var g=a(27);function p(e){var t=e.imagesArray,a=e.loadMore;return Object(d.jsx)(g.a,{dataLength:t.length,next:a,hasMore:!0})}var O=a(15),f=a.n(O);function _(e){var t=e.imagesArray,a=e.openModal,n=e.loadMore;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("ul",{className:f.a.gallery,children:t.map((function(e){var t=e.id,n=e.webformatURL,r=e.largeImageURL,o=e.tags;return Object(d.jsx)("li",{className:f.a.galleryItem,children:Object(d.jsx)(h,{smallImg:n,largeImg:r,alt:o,openModal:a})},t)}))}),Object(d.jsx)(p,{imagesArray:t,loadMore:n})]})}var x=a(28),v=a.n(x),y=a(29),I=a.n(y);function S(){return Object(d.jsx)(v.a,{className:I.a.loader,type:"Grid",color:"#2c5364",height:100,width:100,timeout:3e3})}var w=a(16),N=a.n(w),M=a(30),C=a(31),F=a.n(C).a.create({baseURL:"https://pixabay.com/api/",timeout:1e3,params:{key:"23833327-aee66bbf86a23c3fb1d188dcb",per_page:12,image_type:"photo",orientation:"horizontal"}});function k(){return(k=Object(M.a)(N.a.mark((function e(t,a){var n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F("",{params:{q:t,page:a}});case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),i.b.error("\u041d\u0435\u0442 \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 ".concat(t));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var E=a(32),L=a.n(E),T="idle",q="pending",R="resolved",A="rejected";function D(e){var t=e.imageName,a=e.openModal,r=Object(n.useState)([]),o=Object(s.a)(r,2),c=o[0],u=o[1],b=Object(n.useState)(null),j=Object(s.a)(b,2),m=(j[0],j[1]),h=Object(n.useState)(1),g=Object(s.a)(h,2),p=g[0],O=g[1],f=Object(n.useState)(T),x=Object(s.a)(f,2),v=x[0],y=x[1];Object(n.useEffect)((function(){t&&(y(q),function(e,t){return k.apply(this,arguments)}(t,p).then((function(e){var a=e.hits,n=e.totalHits;0!==a.length||0!==n?0!==a.length||0===n?(1===p&&i.b.success("Found ".concat(n," images")),m(t),u([].concat(Object(l.a)(c),Object(l.a)(a))),y(R)):i.b.warning("Nothing more found"):i.b.error("Oops nothing found")})))}),[t,p]);return Object(d.jsxs)(d.Fragment,{children:[v===T&&Object(d.jsx)("h2",{className:L.a.enterData,children:"Enter data to search..."}),v===q&&Object(d.jsx)(S,{}),(v===R||v===q)&&Object(d.jsx)(_,{imagesArray:c,openModal:a,loadMore:function(){O((function(e){return e+1}))}}),v===A&&i.b.error("Ooops")]})}var G=a(33),J=a(14),U=a.n(J),V=document.querySelector("#modal-root");function B(e){var t=e.onClose,a=e.modalImg;Object(n.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}));var r=function(e){"Escape"===e.code&&t()},c=a.src,s=a.alt;return Object(o.createPortal)(Object(d.jsxs)("div",{className:U.a.overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:[Object(d.jsx)("button",{type:"button",className:U.a.buttonClose,onClick:function(){return t()},children:Object(d.jsx)(G.a,{style:{color:"white",width:30,height:30}})}),Object(d.jsx)("div",{className:U.a.modal,children:Object(d.jsx)("img",{src:c,alt:s})})]}),V)}var K=a(34),z=a.n(K),H=(a(84),a(35)),P=a.n(H);function X(){return Object(d.jsx)(z.a,{showUnder:160,duration:500,style:{right:60,bottom:42},children:Object(d.jsx)("div",{className:P.a.toTop})})}var Y=a(36),Z=a(9),Q=a.n(Z);function W(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(s.a)(a,2),o=r[0],c=r[1];return Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==o.trim()?(t(o),c("")):i.b.warning("Enter sth")},className:Q.a.searchForm,autoComplete:"off",children:[Object(d.jsx)("input",{className:Q.a.input,type:"text",autoFocus:!0,placeholder:"Search images and photos",value:o,onChange:function(e){c(e.currentTarget.value.toLowerCase())}}),Object(d.jsx)("button",{type:"submit",className:Q.a.button,children:Object(d.jsx)(Y.a,{className:Q.a.searchIcon})})]})}var $=a(37),ee=a.n($);function te(e){var t=e.onSubmit;return Object(d.jsx)("header",{className:ee.a.searchbar,children:Object(d.jsx)(W,{onSubmit:t})})}var ae=a(38),ne=a.n(ae);function re(e){var t=e.children;return Object(d.jsx)("section",{className:ne.a.section,children:t})}function oe(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),c=Object(s.a)(o,2),l=c[0],u=c[1],b=Object(n.useState)({src:"",alt:""}),j=Object(s.a)(b,2),m=j[0],h=j[1],g=function(e,t){u(!l),h({src:e,alt:t})};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(re,{children:Object(d.jsx)(te,{onSubmit:function(e){r(e)}})}),Object(d.jsxs)(re,{children:[Object(d.jsx)(D,{imageName:a,openModal:g}),Object(d.jsx)(X,{})]}),l&&Object(d.jsx)(B,{onClose:g,modalImg:m}),Object(d.jsx)(i.a,{autoClose:3e3})]})}a(85);c.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(oe,{})}),document.getElementById("root"))},9:function(e,t,a){e.exports={searchForm:"SearchForm_searchForm__21HYI",input:"SearchForm_input__2rtLG",button:"SearchForm_button__20Gbj",label:"SearchForm_label__1TI8q",searchIcon:"SearchForm_searchIcon__2BTNO"}}},[[86,1,2]]]);
//# sourceMappingURL=main.fdcd701a.chunk.js.map