{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGallery/ImageDataView/ImageDataView.module.css","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImagePending/ImagePending.module.css","components/ImageGallery/ImageGallery.module.css","components/ScrollUp/ScrollUp.module.css","components/Searchbar/Searchbar.module.css","components/Section/Section.module.css","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/InfiniteScroll/InfiniteScroll.jsx","components/ImageGallery/ImageDataView/ImageDataView.jsx","components/ImageGallery/ImagePending/ImagePending.jsx","services/imagesApi.js","components/ImageGallery/ImageGallery.jsx","components/Modal/Modal.jsx","components/ScrollUp/ScrollUp.jsx","components/Searchbar/SearchForm/SearchForm.jsx","components/Searchbar/Searchbar.jsx","components/Section/Section.jsx","components/App/App.jsx","index.js","components/Searchbar/SearchForm/SearchForm.module.css"],"names":["module","exports","ImageGalleryItem","smallImg","largeImg","alt","openModal","onClick","className","s","image","src","PropTypes","propTypes","string","isRequired","func","InfiniteScrl","imagesArray","loadMore","dataLength","length","next","hasMore","ImageDataView","gallery","map","id","webformatURL","largeImageURL","tags","galleryItem","ImagePending","loader","type","color","height","width","timeout","getImages","axios","create","baseURL","params","key","per_page","image_type","orientation","name","page","a","q","data","toast","error","Status","ImageGallery","imageName","useState","setImagesArray","setImagePrevName","setPage","status","setStatus","useEffect","fetchImages","then","newImagesArray","hits","totalImages","totalHits","success","warning","enterData","state","modalRoot","document","querySelector","Modal","onClose","modalImg","window","addEventListener","onKeyDown","removeEventListener","evt","code","createPortal","overlay","currentTarget","target","buttonClose","style","modal","ScrollUp","showUnder","duration","right","bottom","toTop","SearchForm","onSubmit","setImageName","preventDefault","trim","searchForm","autoComplete","input","autoFocus","placeholder","value","onChange","toLowerCase","button","searchIcon","SearchBar","searchbar","Section","children","section","App","showModal","setShowModal","setModalImg","toggleModal","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.fdcd701a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1diO_\",\"modal\":\"Modal_modal__gG3BE\",\"buttonClose\":\"Modal_buttonClose__3pKsp\",\"iconClose\":\"Modal_iconClose__3Kjw7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageDataView_gallery__3Jpd2\",\"galleryItem\":\"ImageDataView_galleryItem__OJAFV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"ImageGalleryItem_image__24eJV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"ImagePending_loader__3Kr-Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"enterData\":\"ImageGallery_enterData__sfdru\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toTop\":\"ScrollUp_toTop__2Ngiz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__3yXJL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"Section_section__39iA6\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nexport default function ImageGalleryItem({\n  smallImg,\n  largeImg,\n  alt,\n  openModal,\n}) {\n  return (\n    <img\n      onClick={() => openModal(largeImg, alt)}\n      className={s.image}\n      src={smallImg}\n      alt={alt}\n    />\n  );\n}\n\nPropTypes.propTypes = {\n  smallImg: PropTypes.string.isRequired,\n  largeImg: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport InfiniteScroll from 'react-infinite-scroll-component';\n\nexport default function InfiniteScrl({ imagesArray, loadMore }) {\n  return (\n    <InfiniteScroll\n      dataLength={imagesArray.length}\n      next={loadMore}\n      hasMore={true}\n    />\n  );\n}\n\nInfiniteScrl.propTypes = {\n  imagesArray: PropTypes.array.isRequired,\n  loadMore: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport InfiniteScrl from '../InfiniteScroll';\nimport s from './ImageDataView.module.css';\n\nexport default function ImageDataView({ imagesArray, openModal, loadMore }) {\n  return (\n    <>\n      <ul className={s.gallery}>\n        {imagesArray.map(({ id, webformatURL, largeImageURL, tags }) => (\n          <li key={id} className={s.galleryItem}>\n            <ImageGalleryItem\n              smallImg={webformatURL}\n              largeImg={largeImageURL}\n              alt={tags}\n              openModal={openModal}\n            />\n          </li>\n        ))}\n      </ul>\n      <InfiniteScrl imagesArray={imagesArray} loadMore={loadMore} />\n    </>\n  );\n}\n\nImageDataView.propTypes = {\n  imagesArray: PropTypes.array.isRequired,\n  openModal: PropTypes.func.isRequired,\n  loadMore: PropTypes.func.isRequired,\n};\n","import Loader from 'react-loader-spinner';\nimport s from './ImagePending.module.css';\n\nexport default function ImagePending() {\n  return (\n    <Loader\n      className={s.loader}\n      type=\"Grid\"\n      color=\"#2c5364\"\n      height={100}\n      width={100}\n      timeout={3000}\n    />\n  );\n}\n","import axios from 'axios';\nimport { toast } from 'react-toastify';\n\nconst getImages = axios.create({\n  baseURL: 'https://pixabay.com/api/',\n  timeout: 1000,\n\n  params: {\n    key: '23833327-aee66bbf86a23c3fb1d188dcb',\n    per_page: 12,\n    image_type: 'photo',\n    orientation: 'horizontal',\n  },\n});\n\nexport async function fetchImages(name, page) {\n  try {\n    const { data } = await getImages('', { params: { q: name, page } });\n    return data;\n  } catch (error) {\n    toast.error(`Нет картинок по запросу ${name}`);\n  }\n}\n","import { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { toast } from 'react-toastify';\nimport ImageDataView from './ImageDataView';\nimport ImagePending from './ImagePending';\nimport { fetchImages } from '../../services/imagesApi';\nimport s from './ImageGallery.module.css';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nexport default function ImageGallery({ imageName, openModal }) {\n  const [imagesArray, setImagesArray] = useState([]);\n  const [imagePrevName, setImagePrevName] = useState(null);\n  const [page, setPage] = useState(1);\n  const [status, setStatus] = useState(Status.IDLE);\n\n  useEffect(() => {\n    if (!imageName) {\n      return;\n    }\n\n    setStatus(Status.PENDING);\n    fetchImages(imageName, page).then(\n      ({ hits: newImagesArray, totalHits: totalImages }) => {\n        if (newImagesArray.length === 0 && totalImages === 0) {\n          toast.error('Oops nothing found');\n          return;\n        }\n        if (newImagesArray.length === 0 && totalImages !== 0) {\n          toast.warning('Nothing more found');\n          return;\n        }\n        if (page === 1) {\n          toast.success(`Found ${totalImages} images`);\n        }\n        setImagePrevName(imageName);\n        setImagesArray([...imagesArray, ...newImagesArray]);\n        setStatus(Status.RESOLVED);\n      },\n    );\n  }, [imageName, page]);\n\n  const updatePage = () => {\n    setPage(state => state + 1);\n  };\n\n  return (\n    <>\n      {status === Status.IDLE && (\n        <h2 className={s.enterData}>Enter data to search...</h2>\n      )}\n\n      {status === Status.PENDING && <ImagePending />}\n\n      {(status === Status.RESOLVED || status === Status.PENDING) && (\n        <ImageDataView\n          imagesArray={imagesArray}\n          openModal={openModal}\n          loadMore={updatePage}\n        />\n      )}\n\n      {status === Status.REJECTED && toast.error('Ooops')}\n    </>\n  );\n}\n\nImageGallery.propTypes = {\n  imageName: PropTypes.string.isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n","import { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { GrClose } from 'react-icons/gr';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default function Modal({ onClose, modalImg }) {\n  useEffect(() => {\n    window.addEventListener('keydown', onKeyDown);\n    return () => {\n      window.removeEventListener('keydown', onKeyDown);\n    };\n  });\n\n  const onKeyDown = evt => {\n    if (evt.code === 'Escape') {\n      onClose();\n    }\n  };\n\n  const onBackdropClick = evt => {\n    if (evt.currentTarget === evt.target) {\n      onClose();\n    }\n  };\n\n  const { src, alt } = modalImg;\n  return createPortal(\n    <div className={s.overlay} onClick={onBackdropClick}>\n      <button type=\"button\" className={s.buttonClose} onClick={() => onClose()}>\n        <GrClose style={{ color: 'white', width: 30, height: 30 }} />\n      </button>\n      <div className={s.modal}>\n        <img src={src} alt={alt} />\n      </div>\n    </div>,\n    modalRoot,\n  );\n}\n\nModal.propTypes = {\n  modalImg: PropTypes.object.isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport ScrollToTop from 'react-scroll-up';\nimport 'react-toastify/dist/ReactToastify.css';\nimport s from './ScrollUp.module.css';\n\nexport default function ScrollUp() {\n  return (\n    <ScrollToTop\n      showUnder={160}\n      duration={500}\n      style={{ right: 60, bottom: 42 }}\n    >\n      <div className={s.toTop} />\n    </ScrollToTop>\n  );\n}\n","import { useState } from 'react';\nimport { toast } from 'react-toastify';\nimport { BiSearchAlt } from 'react-icons/bi';\nimport s from './SearchForm.module.css';\n\nexport default function SearchForm({ onSubmit }) {\n  const [imageName, setImageName] = useState('');\n\n  const handleNameChange = evt => {\n    setImageName(evt.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = evt => {\n    evt.preventDefault();\n\n    if (imageName.trim() === '') {\n      toast.warning('Enter sth');\n      return;\n    }\n\n    onSubmit(imageName);\n    setImageName('');\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className={s.searchForm} autoComplete=\"off\">\n      <input\n        className={s.input}\n        type=\"text\"\n        autoFocus\n        placeholder=\"Search images and photos\"\n        value={imageName}\n        onChange={handleNameChange}\n      />\n      <button type=\"submit\" className={s.button}>\n        <BiSearchAlt className={s.searchIcon} />\n      </button>\n    </form>\n  );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport SearchForm from './SearchForm';\nimport s from './Searchbar.module.css';\n\nexport default function SearchBar({ onSubmit }) {\n  return (\n    <header className={s.searchbar}>\n      <SearchForm onSubmit={onSubmit} />\n    </header>\n  );\n}\n\nSearchBar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Section.module.css';\n\nexport default function Section({ children }) {\n  return <section className={s.section}>{children}</section>;\n}\n\nSection.propTypes = {\n  children: PropTypes.node,\n};\n","import { useState } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport ImageGallery from '../ImageGallery';\nimport Modal from '../Modal';\nimport ScrollUp from '../ScrollUp';\nimport Searchbar from '../Searchbar';\nimport Section from '../Section';\n\nexport default function App() {\n  const [imageName, setImageName] = useState('');\n  const [showModal, setShowModal] = useState(false);\n  const [modalImg, setModalImg] = useState({ src: '', alt: '' });\n\n  const onFormSubmit = imageName => {\n    setImageName(imageName);\n  };\n\n  const toggleModal = (src, alt) => {\n    setShowModal(!showModal);\n    setModalImg({ src, alt });\n  };\n\n  return (\n    <>\n      <Section>\n        <Searchbar onSubmit={onFormSubmit} />\n      </Section>\n      <Section>\n        <ImageGallery imageName={imageName} openModal={toggleModal} />\n        <ScrollUp />\n      </Section>\n\n      {showModal && <Modal onClose={toggleModal} modalImg={modalImg} />}\n      <ToastContainer autoClose={3000} />\n    </>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"SearchForm_searchForm__21HYI\",\"input\":\"SearchForm_input__2rtLG\",\"button\":\"SearchForm_button__20Gbj\",\"label\":\"SearchForm_label__1TI8q\",\"searchIcon\":\"SearchForm_searchIcon__2BTNO\"};"],"sourceRoot":""}